(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(302)},281:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(47),c=a.n(r),i=a(6),s=a(5),l=a(8),m=a(7),u=a(9),d=a(308),p=a(310),h=a(306),b=a(60),f=a(22),v=a.n(f),k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"orderView row"},o.a.createElement("div",{className:"col-xs-4"},o.a.createElement("span",null,this.props.book.name)),o.a.createElement("div",{className:"col-xs-4"},o.a.createElement("span",null,this.props.book.price)),o.a.createElement("div",{className:"col-xs-4"},o.a.createElement(v.a,{id:"orderView_button",className:"primary",onClick:function(t){return e.props.removeFromOrder(e.props.book.name)}},"Remove")))}}]),t}(o.a.Component),E=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.order.map(function(t){return o.a.createElement(k,{book:t,removeFromOrder:e.props.removeFromOrder})});return o.a.createElement("div",{className:"order col-xs-6"},o.a.createElement("h2",null,"Your order:"),t)}}]),t}(o.a.Component),g=a(16),O=a(110),y=(a(223),a(37)),j=a(305),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={show:!0},a.geInterval=function(e){switch(e.index){case 0:return 0;case 1:return 150;case 2:case 3:case 4:case 5:case 6:return 600+10*(e.index-2);default:return 600+150*(e.index-6)}},a.getEnter=function(e){var t={opacity:0,scale:.8,y:"-100%"};return e.index>=2&&e.index<=6?Object(g.a)({},t,{y:"-30%",duration:5e3}):t},a.getSplit=function(e){var t=e.split(" "),a=[];return t.forEach(function(e,n){a.push(o.a.createElement("span",{key:"".concat(e,"-").concat(n)},e)),n<t.length-1&&a.push(o.a.createElement("span",{key:" -".concat(n)}," "))}),a},a.onClick=function(){a.setState({show:!1},function(){a.setState({show:!0})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"combined-wrapper"},o.a.createElement("div",{className:"combined-reload"},o.a.createElement(j.a,{className:"goToAdmin",to:"/admin"},"Admin Panel")),o.a.createElement("div",null,o.a.createElement(v.a,{className:"Btn-refresh",icon:"reload",type:"reload",onClick:this.onClick})),this.state.show&&o.a.createElement("div",{className:"combined"},o.a.createElement("div",{className:"combined-shape"},o.a.createElement("div",{className:"shape-left"},o.a.createElement(y.b,{animation:[{x:158,type:"from",ease:"easeInOutQuint",duration:600},{x:-158,ease:"easeInOutQuart",duration:450,delay:-150}]})),o.a.createElement("div",{className:"shape-right"},o.a.createElement(y.b,{animation:[{x:-158,type:"from",ease:"easeInOutQuint",duration:600},{x:158,ease:"easeInOutQuart",duration:450,delay:-150}]}))),o.a.createElement(O.a,{className:"title",type:"mask-top",delay:400,enter:this.getEnter,interval:this.geInterval,component:y.b,componentProps:{animation:[{x:130,type:"set"},{x:100,delay:500,duration:450},{ease:"easeOutQuart",duration:500,x:0},{letterSpacing:0,delay:-300,scale:.9,ease:"easeInOutQuint",duration:1e3},{scale:1,width:"100%",delay:-300,duration:1e3,ease:"easeInOutQuint"}]}},"Bookstore."),o.a.createElement(y.b,{className:"combined-bar",animation:{delay:2e3,width:0,x:158,type:"from",ease:"easeInOutExpo"}}),o.a.createElement(O.a,{className:"content",type:"bottom",split:this.getSplit,delay:2200,interval:30},"c1chy 's 1st react test App")))}}]),t}(o.a.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"bookView row"},o.a.createElement("div",{className:"col-xs-4"},o.a.createElement("img",{src:this.props.book.image,alt:this.props.book.name}),o.a.createElement("center",null,o.a.createElement("b",null,this.props.book.genre,o.a.createElement("br",null)))),o.a.createElement("div",{className:"col-xs-4"},o.a.createElement("b",null,this.props.book.name),o.a.createElement("br",null),o.a.createElement("i",null,this.props.book.author),o.a.createElement("br",null),o.a.createElement("i",null,this.props.book.price),o.a.createElement("br",null)),o.a.createElement("div",{className:"col-xs-4"},o.a.createElement("p",null,this.props.book.description)),o.a.createElement("div",{className:"col-xs-4"},o.a.createElement(v.a,{id:"order",type:"danger",onClick:function(t){return e.props.addToOrder(e.props.book)}},"Add to Order")))}}]),t}(o.a.Component),C=a(146),B=a.n(C),x=a(147),S=a.n(x),I=(a(280),S.a.initializeApp({apiKey:"AIzaSyB8wKK0e6l4Vuq-jrflNHsp_MSrXuBFGvk",authDomain:"bookstore-a92dd.firebaseapp.com",databaseURL:"https://bookstore-a92dd.firebaseio.com",projectId:"bookstore-a92dd",storageBucket:"bookstore-a92dd.appspot.com",messagingSenderId:"620578156655"})),T=B.a.createClass(I.database()),_=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.ref=T.syncState("bookstore/books",{context:this,state:"books"})}},{key:"componentWillUnmount",value:function(){T.removeBinding(this.ref)}},{key:"render",value:function(){var e=this,t=o.a.createElement("h4",null,"No books on stock, sorry");return Array.isArray(this.state.books)&&(t=this.state.books.map(function(t){return o.a.createElement(w,{key:t.name,book:t,addToOrder:e.props.addToOrder})})),o.a.createElement("div",{className:"inventory col-xs-6"},o.a.createElement("h2",null,"Bookstore inventory:"),t)}}]),t}(o.a.Component),F=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Footer col"},o.a.createElement("a",{href:"https://c1chy.de/"},"c1chy"))}}]),t}(o.a.Component),A=(a(281),a(143),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).addToOrder=function(t){e.setState({order:[].concat(Object(b.a)(e.state.order),[t])})},e.removeFromOrder=function(){e.setState({order:e.state.order.splice(1)})},e.state={order:[]},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"authenticate",value:function(){return new Promise(function(e){return setTimeout(e,2e3)})}},{key:"componentDidMount",value:function(){this.authenticate().then(function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout(function(){e.outerHTML=""},2e3))})}}]),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"app container"},o.a.createElement(N,null),o.a.createElement("div",{className:"row middle"},o.a.createElement(E,{order:this.state.order,removeFromOrder:this.removeFromOrder}),o.a.createElement(_,{books:this.state.books,addToOrder:this.addToOrder})),o.a.createElement(F,null))}}]),t}(o.a.Component)),D=a(35),L=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).authenticate=function(t){t.preventDefault(),I.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then(function(){e.props.changeLoggedIn(!0)}).catch(function(){console.log("Unable to authenticate")})},e.handleLoginChange=function(t){e.setState(Object(D.a)({},t.target.name,t.target.value))},e.state={email:"",password:""},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.authenticate},o.a.createElement("input",{type:"text",placeholder:"email",id:"email_bs",name:"email",className:"form-control",onChange:this.handleLoginChange,value:this.state.email}),o.a.createElement("input",{type:"password",id:"password_bs",name:"password",className:"form-control",onChange:this.handleLoginChange,value:this.state.password}),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log in"))}}]),t}(o.a.Component),M=a(48),R=a(309),U=Object(R.a)(function(e){var t=e.history;return o.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:t.goBack},"Homepage")}),P=a(307),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).addNewBook=function(e){if(e.preventDefault(),a.props.editMode){var t=Object(g.a)({},a.props.book);a.props.editBook(a.props.titleOfBookForRemoval,t),a.setState({book:{name:"",author:"",description:"",onStock:!0,image:"",genre:"",price:Number}})}else{var n=Object(g.a)({},a.props.book);a.props.addNewBook(n),a.props.updateBook({name:"",author:"",description:"",onStock:!0,image:"",genre:"",price:""})}e.target.reset()},a.handleChange=function(e){var t;t="onStock"===e.target.name?Object(g.a)({},a.props.book,Object(D.a)({},e.target.name,e.target.checked)):Object(g.a)({},a.props.book,Object(D.a)({},e.target.name,e.target.value)),a.props.updateBook(t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.editMode?"Edit":"Add";return o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"adminPanel col-xs-4"},o.a.createElement("form",{onSubmit:this.addNewBook},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",placeholder:"Book name",id:"name",name:"name",className:"form-control",onChange:this.handleChange,value:this.props.book.name})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",placeholder:"Book author",id:"author",name:"author",className:"form-control",onChange:this.handleChange,value:this.props.book.author})),o.a.createElement("div",{className:"form-group"},o.a.createElement("textarea",{placeholder:"Book description",id:"description",name:"description",className:"form-control",onChange:this.handleChange,value:this.props.book.description})),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",placeholder:"Book price",id:"price",name:"price",className:"form-control",onChange:this.handleChange,value:this.props.book.price})),o.a.createElement("select",{id:"genre",className:"select",name:"genre",onChange:this.handleChange,value:this.props.book.genre},o.a.createElement("option",{value:"Drama"},"Drama"),o.a.createElement("option",{value:"Comedy"},"Comedy"),o.a.createElement("option",{value:"Thriller"},"Thriller"),o.a.createElement("option",{value:"Romantic"},"Romantic"),o.a.createElement("option",{value:"Horror"},"Horror")),o.a.createElement("div",{className:"form-group"},o.a.createElement(P.a,{type:"checkbox",id:"onStock",name:"onStock",onChange:this.handleChange,value:this.props.book.onStock}),o.a.createElement("label",{htmlFor:"onStock",className:"form-check-label"},"On stock")),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",placeholder:"Book image",id:"image",name:"image",className:"form-control",onChange:this.handleChange,value:this.props.book.image})),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},e),o.a.createElement(U,null))))}}]),t}(o.a.Component),W=Object(M.b)(function(e){return{book:e.book,editMode:e.editMode,titleOfBookForRemoval:e.titleOfBookForRemoval}},function(e){return{updateBook:function(t){return e(function(e){return{type:"UPDATE_BOOK",payload:e}}(t))}}})(Q),K=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"orderView row"},o.a.createElement("div",{className:"col-xs-8"},o.a.createElement("span",null,this.props.book.name," ",this.props.book.author)),o.a.createElement("div",{className:"col-xs-2"},o.a.createElement(v.a,{className:"ant-btn-dagger",type:"danger",onClick:function(t){return e.props.sendBookToEdit(e.props.book)}},"Edit")),o.a.createElement("div",{className:"col-xs-2"},o.a.createElement(v.a,{className:"ant-btn-dagger",type:"danger",onClick:function(t){return e.props.removeFromInventory(e.props.book.name)}},"Remove")))}}]),t}(o.a.Component),V=Object(M.b)(function(e){return{}},function(e){return{sendBookToEdit:function(t){return e(function(e){return{type:"SEND_BOOK_TO_EDIT",payload:e}}(t))}}})(K),H=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null,"No books in state");return this.props.books&&Array.isArray(this.props.books)&&(t=this.props.books.map(function(t){return o.a.createElement(V,{key:t.name,book:t,removeFromInventory:e.props.removeFromInventory})})),o.a.createElement("div",null,t)}}]),t}(o.a.Component),X=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).changeLoggedIn=function(t){return e.setState({loggedIn:t})},e.addNewBook=function(t){Array.isArray(e.state.books)?e.setState({books:[].concat(Object(b.a)(e.state.books),[t])}):e.setState({books:[t]})},e.removeFromInventory=function(t){e.setState({books:e.state.books.filter(function(e){return t!==e.name})})},e.editBook=function(t,a){var n=e.state.books.filter(function(e){return t!==e.name});e.setState({books:[].concat(Object(b.a)(n),[a])})},e.state={loggedIn:!1},e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.ref=T.syncState("bookstore/books",{context:this,state:"books"})}},{key:"componentWillUnmount",value:function(){T.removeBinding(this.ref)}},{key:"render",value:function(){return o.a.createElement("div",null,!this.state.loggedIn&&o.a.createElement(L,{changeLoggedIn:this.changeLoggedIn}),this.state.loggedIn&&o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{addNewBook:this.addNewBook,editBook:this.editBook}),o.a.createElement(H,{books:this.state.books,removeFromInventory:this.removeFromInventory})))}}]),t}(o.a.Component),z=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Page Not Found!"))},J=a(75),q={book:{name:"",author:"",price:Number,onStock:!0,image:"",genre:"",description:""},editMode:!1,titleOfBookForRemoval:""},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action received"+t.type),t.type){case"UPDATE_BOOK":var a=t.payload;return Object(g.a)({},e,{book:a});case"SEND_BOOK_TO_EDIT":var n=t.payload;return Object(g.a)({},e,{book:Object(g.a)({},n),editMode:!0,titleOfBookForRemoval:n.name});default:return e}},Y=Object(J.b)(G,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),$=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(M.a,{store:Y},o.a.createElement(d.a,null,o.a.createElement(p.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:A}),o.a.createElement(h.a,{path:"/admin",component:X}),o.a.createElement(h.a,{component:z}))))}}]),t}(o.a.Component),Z=(a(292),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ee(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement($,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/My1stApp",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/My1stApp","/service-worker.js");Z?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ee(e)})}}()}},[[153,1,2]]]);
//# sourceMappingURL=main.81ffb120.chunk.js.map